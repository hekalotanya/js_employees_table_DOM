{"version":3,"sources":["scripts/main.js"],"names":["selectedColumn","table","document","querySelector","headers","querySelectorAll","head","sortColumn","column","rowsNew","sortedRows","index","findIndex","item","textContent","classList","toggle","contains","sort","rowA","rowB","cells","innerHTML","toLowerCase","append","replace","addEventListener","e","target","rows","element","remove","parentElement","add","form","createElement","createInput","typeInput","nameInput","textContentInput","label","input","type","name","setAttribute","required","minLength","pattern","min","max","body","selectInput","labelSelect","createOption","value","contentText","option","buttonSub","pushNotification","title","description","className","tit","des","setTimeout","style","cssText","addRow","data","FormData","newRow","get","Intl","NumberFormat","format","checkValidity","preventDefault","reset","undefined","focus","targetCell","closest","children","ev","keyCode"],"mappings":"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","file":"main.b8970dcd.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\n// write code here\r\nconst table = document.querySelector('tbody');\r\nconst headers = document.querySelectorAll('th');\r\nconst head = document.querySelector('thead');\r\nlet selectedColumn; // current selected column for sort\r\n\r\nhead.addEventListener('click', (e) => {\r\n  sortColumn(e.target.textContent);\r\n});\r\n\r\n// sort rows function\r\nfunction sortColumn(column) {\r\n  const rowsNew = document.querySelectorAll('tbody tr');\r\n  let sortedRows;\r\n  const index = [...headers].findIndex(item => item.textContent === column);\r\n\r\n  // re-sort check\r\n  if (column === selectedColumn) {\r\n    table.classList.toggle('sort');\r\n\r\n    switch (column) {\r\n      case 'Name':\r\n      case 'Position':\r\n      case 'Office':\r\n      case 'Age':\r\n        if (table.classList.contains('sort')) {\r\n          sortedRows = [...rowsNew]\r\n            .sort((rowA, rowB) =>\r\n              rowB.cells[index].innerHTML.toLowerCase()\r\n              > rowA.cells[index].innerHTML.toLowerCase() ? 1 : -1);\r\n        } else {\r\n          sortedRows = [...rowsNew]\r\n            .sort((rowA, rowB) =>\r\n              rowA.cells[index].innerHTML.toLowerCase()\r\n              > rowB.cells[index].innerHTML.toLowerCase() ? 1 : -1);\r\n        }\r\n\r\n        table.append(...sortedRows);\r\n        break;\r\n\r\n      case 'Salary':\r\n        if (table.classList.contains('sort')) {\r\n          sortedRows = [...rowsNew]\r\n            .sort((rowA, rowB) =>\r\n              +rowB.cells[index].innerHTML.replace(/\\D/gi, '')\r\n              - +rowA.cells[index].innerHTML.replace(/\\D/gi, ''));\r\n        } else {\r\n          sortedRows = [...rowsNew]\r\n            .sort((rowA, rowB) =>\r\n              +rowA.cells[index].innerHTML.replace(/\\D/gi, '')\r\n              - +rowB.cells[index].innerHTML.replace(/\\D/gi, ''));\r\n        }\r\n\r\n        table.append(...sortedRows);\r\n        break;\r\n    }\r\n  } else {\r\n    // new column sort\r\n    switch (column) {\r\n      case 'Name':\r\n      case 'Position':\r\n      case 'Office':\r\n      case 'Age':\r\n        sortedRows = [...rowsNew]\r\n          .sort((rowA, rowB) =>\r\n            rowA.cells[index].innerHTML.toLowerCase()\r\n            > rowB.cells[index].innerHTML.toLowerCase() ? 1 : -1);\r\n\r\n        table.append(...sortedRows);\r\n\r\n        // remebmer column was sort\r\n        selectedColumn = column;\r\n        break;\r\n\r\n      case 'Salary':\r\n        sortedRows = [...rowsNew]\r\n          .sort((rowA, rowB) =>\r\n            +rowA.cells[index].innerHTML.replace(/\\D/gi, '')\r\n            - +rowB.cells[index].innerHTML.replace(/\\D/gi, ''));\r\n\r\n        table.append(...sortedRows);\r\n        selectedColumn = column;\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\n// create focus on row\r\ntable.addEventListener('click', (e) => {\r\n  const rows = document.querySelectorAll('tbody tr');\r\n\r\n  for (const element of rows) {\r\n    if (element.classList.contains('active')) {\r\n      element.classList.remove('active');\r\n    }\r\n  }\r\n  e.target.parentElement.classList.add('active');\r\n});\r\n\r\n// create form\r\nconst form = document.createElement('form');\r\n\r\nform.classList.add('new-employee-form');\r\n\r\ndocument.body.append(form);\r\n\r\n// create all input for form\r\nfunction createInput(typeInput, nameInput, textContentInput) {\r\n  const label = document.createElement('label');\r\n  const input = document.createElement('input');\r\n\r\n  input.type = typeInput;\r\n  input.name = nameInput;\r\n  input.setAttribute('data-qa', nameInput);\r\n  input.required = true;\r\n  label.textContent = textContentInput;\r\n  label.append(input);\r\n  form.append(label);\r\n\r\n  if (nameInput === 'name') {\r\n    input.minLength = 4;\r\n  }\r\n\r\n  if (nameInput === 'age') {\r\n    input.pattern = '[0-9]+';\r\n    input.min = 18;\r\n    input.max = 90;\r\n  }\r\n}\r\n\r\ncreateInput('text', 'name', 'Name:');\r\ncreateInput('text', 'position', 'Position:');\r\n\r\n// create select input\r\nconst selectInput = document.createElement('select');\r\nconst labelSelect = document.createElement('label');\r\n\r\nselectInput.name = 'office';\r\nlabelSelect.textContent = 'Office:';\r\nselectInput.setAttribute('data-qa', 'office');\r\nselectInput.required = true;\r\nlabelSelect.append(selectInput);\r\nform.append(labelSelect);\r\n\r\n// create option for select input\r\nfunction createOption(value, contentText) {\r\n  const option = document.createElement('option');\r\n\r\n  option.value = value;\r\n  option.textContent = contentText;\r\n\r\n  return option;\r\n}\r\n\r\nselectInput.append(createOption('Tokyo', 'Tokyo'));\r\nselectInput.append(createOption('Singapore', 'Singapore'));\r\nselectInput.append(createOption('London', 'London'));\r\nselectInput.append(createOption('New York', 'New York'));\r\nselectInput.append(createOption('Edinburgh', 'Edinburgh'));\r\nselectInput.append(createOption('San Francisco', 'San Francisco'));\r\n\r\ncreateInput('number', 'age', 'Age:');\r\ncreateInput('number', 'salary', 'Salary:');\r\n\r\n// create button submit\r\nconst buttonSub = document.createElement('button');\r\n\r\nbuttonSub.type = 'submit';\r\nbuttonSub.textContent = 'Save to table';\r\nform.append(buttonSub);\r\n\r\n// create function notification\r\nconst pushNotification = (title, description, type) => {\r\n  const element = document.createElement('div');\r\n\r\n  element.className = `notification ${type}`;\r\n\r\n  element.setAttribute('data-qa', 'notification');\r\n\r\n  document.body.append(element);\r\n\r\n  const tit = document.createElement('h2');\r\n\r\n  tit.textContent = `${title}`;\r\n  tit.className = 'title';\r\n\r\n  const des = document.createElement('p');\r\n\r\n  des.textContent = `${description}`;\r\n  element.append(tit, des);\r\n\r\n  setTimeout(() => {\r\n    element.style.cssText = 'display:none';\r\n  }, 2000);\r\n};\r\n\r\n// submit notification\r\nbuttonSub.addEventListener('click', () => {\r\n  if (!form.checkValidity()) {\r\n    pushNotification('Error message',\r\n      'Data error', 'error');\r\n  } else {\r\n    addRow();\r\n\r\n    pushNotification('Success message',\r\n      'New employee is successfully added to the table', 'success');\r\n  }\r\n});\r\n\r\n// create function add new row in table\r\nfunction addRow() {\r\n  const data = new FormData(form);\r\n  const newRow = document.createElement('tr');\r\n\r\n  newRow.innerHTML = `<td>${data.get('name')}</td>\r\n  <td>${data.get('position')}</td>\r\n  <td>${data.get('office')}</td>\r\n  <td>${data.get('age')}</td>\r\n  <td>$${new Intl.NumberFormat().format(data.get('salary'))}</td>`;\r\n  table.append(newRow);\r\n}\r\n\r\n// stop page reload\r\nform.addEventListener('submit', (e) => {\r\n  e.preventDefault();\r\n  form.reset();\r\n});\r\n\r\n// new input cell\r\nconst cells = document.querySelector('tbody');\r\n\r\ncells.addEventListener('dblclick', (e) => {\r\n  let target;\r\n  const textContent = e.target.innerHTML;\r\n\r\n  if (target === undefined) {\r\n    target = e.target;\r\n\r\n    target.innerHTML = `<input class='cell-input'>`;\r\n\r\n    const input = document.querySelector('.cell-input');\r\n\r\n    input.value = textContent;\r\n    input.focus();\r\n\r\n    const targetCell = [...e.target.closest('tr').children];\r\n\r\n    if (e.target === targetCell[0]\r\n      || e.target === targetCell[1] || e.target === targetCell[2]) {\r\n      input.type = 'text';\r\n      input.minLength = 4;\r\n    }\r\n\r\n    if (e.target === targetCell[3]) {\r\n      input.type = 'number';\r\n      input.pattern = '[0-9]+';\r\n      input.min = 18;\r\n      input.max = 90;\r\n    }\r\n\r\n    if (e.target === targetCell[4]) {\r\n      input.pattern = '[0-9]+';\r\n    }\r\n\r\n    input.addEventListener('keydown', (ev) => {\r\n      if (ev.keyCode === 13) {\r\n        if (input.value !== textContent\r\n          && input.value !== '' && input.checkValidity()) {\r\n          if (target === targetCell[4]) {\r\n            target.innerHTML = '$'\r\n            + `${new Intl.NumberFormat().format(input.value)}`;\r\n          } else {\r\n            target.innerHTML = `${input.value}`;\r\n          }\r\n          input.remove();\r\n        } else {\r\n          target.innerHTML = textContent;\r\n          input.remove();\r\n        }\r\n      }\r\n    });\r\n\r\n    input.addEventListener('blur', () => {\r\n      if (input.value !== textContent && input.value !== ''\r\n      && input.checkValidity()) {\r\n        target.innerHTML = `${input.value}`;\r\n        input.remove();\r\n      } else {\r\n        target.innerHTML = textContent;\r\n        input.remove();\r\n      }\r\n    });\r\n  }\r\n});\r\n"]}